{
	"version": "0.1",
	"pageContent": {
		"_comments": "object that contains data for page labels, buttons, etc.",
		"navItems": {
			"_common": {
				"buttonBackToGallery": {
					"name": "Back To Gallery",
					"method": "backToGallery()",
					"idName": "backToGallery"
				},
				"buttonStartTutorial": {
					"name": "Start Tutorial",
					"method": "startTutorialFromDetailsScreen()",
					"idName": "startTutorial"
				},
				"buttonViewDetails": {
					"name": "View Details",
					"method": "viewDetails()",
					"idName": "stepsViewDetails"
				}
			}
		}
	},
	"tutorial": {
		"_common": {
			"name": "App Connect for Manufacturing - Using the OPC-UA-Write node to write data into an OPC Server",
			"shortDescription": "Learn how to create a simple message flow for writing data into an OPC server using the OPC-UA-Write Node.",
			"durationText": "This tutorial takes approximately",
			"durationTime": "10 minutes",
			"_resourceToOpenComment": "The ID of the first resource to open when the user imports the tutorial. Resource IDs are defined in the repo_metadata.json.",
			"resourceToOpen": "MainFlow",
			"helpLink": {
				"text": "IBM Documentation",
				"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=manufacturing-developing-message-flow-applications"
			}


		},
		"pageDetails": {
			"topicsName": "Tutorial Topics",
			"_topicListComment": "A short list of product concepts or tasks demonstrated by this tutorial",
			"topicList": [{
					"title": "Create a Data source in the Manufacturing Perspective"
				},
				{
					"title": "Create and start an Integration Server"
				},
				{
					"title": "Create and deploy a Control Flow"
				},
				{
					"title": "Create and deploy a Write Flow"
				}
			],
			"outcomesName": "Learning outcomes",
			"_outcomesComment": "Use IBM App Connect for Manufacturing to write values into an OPCServer using OPC-UA-Write Node.",
			"outcomeList": [{
				"title": "Use App Connect Manufacturing Pack to write values into an OPC Server using the OPC-UA-Write Node."
			}],
			"summary": {
				"overviewName": "OVERVIEW",
				"_overviewComment": "This tutorial demonstrates how to create a simple message flow for writing data in to an OPC server using the OPC-UA-Write Node.",
				"sections": [{
						"section": "This tutorial assumes you have installed and configured AppConnect for Manufacturing. If this is not the case, the tutorial has a pre-requisites section which will help you to complete the required tasks before running the tutorial."
					},
					{
						"section": "After creating a DataSource connection to an OPCServer and starting the Integration Server, you can import a provided application project. The project contains two message flows: a Control Flow and a Write Flow."
					},
					{
						"section": "After performing some configuration, you will first deploy and start the control flow if there is no control flow deployed previously. Next you will deploy and start the Write flow."
					},
					{
						"section": "The write flow is driven using HTTP data which causes the flow to exexute, write data into the OPC UA Server using the OPC-UA-Write node and return it back to the waiting HTTP client."
					}
				]
			},
			"helpLinks": {
				"_helpLinksComment": "Helplinks that have a type:web attribute are rendered as web links. Otherwise, links are assumed to be to embedded Help topics in the Knowledge Center.",
				"title": "Find out more",
				"details": [{
					"title": "Knowledge Center link to ",
					"description": "IBM App Connect for Manufacturing overview",
					"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=manufacturing-app-connect-overview",
					"type": "web"
				}]
			}
		},
		"pageSteps": {
			"create": {
				"overview": {
					"name": "Create",
					"heading": "Import project",
					"_createComment": "A description of what will happen when the user clicks Import.",
					"sections": [{
							"section": "Click <span class='uicontrol'>Import</span> and the <span class='uicontrol'>TestWriteFlowApp and ControlFlowApp</span> application will be imported into your workspace."
						},
						{
							"section": "The <span class='uicontrol'>TestWriteMessageFlow</span> message flow will be opened for you."
						}
					]
				},
				"helpLinks": {
					"title": "Find out more",
					"details": [{
						"title": "IBM Documentation link to ",
						"description": "Developing Message Flow applications",
						"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=manufacturing-developing-message-flow-applications",
						"type": "web"
					}]
				},
				"actions": {
					"title": "Create Actions",
					"details": [{
						"name": "Import",
						"method": "importArtifacts()"
					}]
				}
			},
			"prepare": {
				"overview": {
					"name": "Prepare",
					"heading": "Prepare for Write Flow",
					"_prepareComment": "Prepare for Write Flow",
					"sections": [{
							"section": "Create a Data Source connection to an OPC Server using the App Connect Enterprise Toolkit:",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "To create a data source, complete the following steps."
									},
									{
										"details": "Navigate to the Manufacturing Perspective > DataSources. Specify a name for the mapping node and click OK. The new data source gets created under the DataSource Properties window."
									},
									{
										"details": "Select the Server URL Type as Endpoint"
									},
									{
										"details": "Specify the Server URL: e.g. opc.tcp://TEST_OPC_SERVER:port/OPCUA/SimulationServer"
									}, {
										"details": "Select the default values for the rest of the parameters and click on Create DataSource"
									}
								]
							}
						},
						{
							"section": "Create and run Integration Server :",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "Assuming you are using a Windows platform, open an App Connect Enterprise Command Console and start an integration server using the following command:<br><code>IntegrationServer --work-dir C:\\TESTSERVER --name TESTSERVER --admin-rest-api 7600 --http-port-number 7800 --console-log</code> <br>where <b>C:\\TESTSERVER</b> is a folder on your file system that the server will use for its working directory."
									},

									{
										"details": "Modify C:\\TESTSERVER\\server.conf.yaml in windows and /opt/TESTSERVER/server.conf.yaml in linux/unix to add the following lines after the line ConnectorProviders:"
									},
									{
										"details": "Please note that you would need to change the jarsURL value as per your installation of ACMFG. But it should point to the amd64_nt_4 folder"
									},
									{
										"details": "For Windows: <br>ACMfg:<br>&nbsp;&nbsp;&nbsp;&nbsp;connectorClassName:<br>'com.ibm.industrypack.industryclient.connector.ICConnectorFactory'<br>&nbsp;&nbsp;&nbsp;&nbsp;jarsURL: 'C:\\Program Files\\IBM\\ACMfg\\3.0.1.0\\runtime\\amd64_nt_4'<br>&nbsp;&nbsp;&nbsp;&nbsp;property1: 'trustCertificate=true'<br>&nbsp;&nbsp;&nbsp;&nbsp;property2: 'allowEndpointMismatch=true;discardData=false'"
									},
									{
										"details": "For Linux/Unix: <br>ACMfg:<br>&nbsp;&nbsp;&nbsp;&nbsp;connectorClassName:<br>'com.ibm.industrypack.industryclient.connector.ICConnectorFactory'<br>&nbsp;&nbsp;&nbsp;&nbsp;jarsURL: '/opt/IBM/ACMfg-3.0.1.0/runtime/amd64_linux_2'<br>&nbsp;&nbsp;&nbsp;&nbsp;property1: 'trustCertificate=true'<br>&nbsp;&nbsp;&nbsp;&nbsp;property2: 'allowEndpointMismatch=true;discardData=false'"
									},
									{
										"details": "Save the above server.conf.yaml file and restart the Integration server using the command mentioned above"
									},
									{
										"details": "In the App Connect Enterprise Toolkit Integration Explorer view, right click the folder <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/ace/IntegrationServers.png' alt='' /> and select the menu item  <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/ace/ConnectToAnIntegrationServer.png' alt='' />. In the connection details panel, specify the <b>Host name</b> to be <b>localhost</b>, the <b>Port</b> to be <b>7600</b> and click Finish. This will connect your Toolkit and display the integration server that you started in the last step <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/ace/TESTSERVER.png' alt='' />"
									}
								]
							}
						}
					]
				},
				"helpLinks": {
					"title": "Find out more",
					"details": [{
						"title": "IBM Documentation link to ",
						"description": "Using the Manufacturing Perspective",
						"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=manufacturing-app-connect-overview",
						"type": "web"
					},
					{
						"title": "IBM Documentation link to Troubleshooting ",
						"description": "Troubleshooting and Logging",
						"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=manufacturing-troubleshooting-support",
						"type": "web"					
					}
					]
				}
			},
			"run": {
				"overview": {
					"name": "Run",
					"heading": "",
					"_runComment": "The full steps for the user to run through the tutorial. Use 'sections' to render paragraphs, 'steps' with a type of 'ordered' or 'unordered' to render HTML lists, and 'substeps' to render nested lists.",
					"sections": [{
							"section": "Configure the Write Message flow ",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "Open the TestWriteFlow.msgflow. You will see 3 nodes: 'HTTP Input' ,'Compute' ,'OPC-UA-Write', and 'HTTP Reply'"
									},
									{
										"details": "Click on OPC-UA-Write node to open the OPC-UA-Write Node properties. "
									},
									{
										"details": "From the properties window, click on the 'Add' button to open into Manufacturing perspective. "
									},
									{
										"details": "Select the appropriate 'Data source' created in the Pre-Requisite section ."
									},
									{
										"details": "Click on 'Refresh Source Item Tree' to load the Source Items. Select the node from the source tree for which you want to write data .For example, an Integer data"
									},
									{
										"details": "From the 'Client Items' tree, right-click on the 'Item' node and select 'Add Mapping Node'"
									},
									{
										"details": "Specify a name for the node and click 'Ok' "
									},
									{
										"details": "Click on 'Create Client Item' from the 'Client Item Properties' tab"
									},
									{
										"details": "Click on 'Add Client Item to Write' from the 'Select' window at the bottom ."
									},
									{
										"details": "Note the name of the Client Item selected. For example:  '/Item/ua_int_32' "
									},									
									{
										"details": "Double-Click on 'Compute Node' from the flow"
									},
									{
										"details": "Uncomment the following lines in the Compute Node script and replace the name, path and data values with the Client Item name, path selected by you in the above steps: <br> -- SET itemRef5.(XMLNSC.Attribute)wrns:name='ua_int_32';<br>-- SET itemRef5.(XMLNSC.Attribute)wrns:path='/Item/ua_int_32';<br>-- SET itemRef5.Data = 256;"
									},	
									{
										"details": "Replace the Data value with the value you want to write to the server for the selected client item."
									},												
									{
										"details": "Save the flow"
									}
								]
							}
						},
						{
							"section": "Deploy the Control Flow ",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "Please make sure you are connected to an Integration Server as described in the PreRequisite section"
									},
									{
										"details": "From the Application Development Tab , under the ControlFlowApp-->Flows, right-click the TestControlFlow.msgflow and select 'Deploy' . "
									}, {
										"details": "From the 'Integration Server Select the Integration Server that you have started Click 'Finish' on the Deploy window."
									}, {
										"details": "Click 'Ok' on the Confirm Window. Once the 'The task completed successfully' message is seen, close the 'Progress Information' window. "
									}
								]
							}
						},

						{
							"section": "Deploy the Write Flow ",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "Please make sure you are connected to an Integration Server as described in the PreRequisite section"
									},
									{
										"details": "From the Application Development Tab , under the TestWriteFlowApp-->Flows, right-click the TestWriteFlow.msgflow and select 'Deploy'. "
									}, {
										"details": "From the 'Integration Server Select the Integration Server that you selected earlier for Control Flow .Click 'Finish' on the Deploy window. "
									}, {
										"details": "Click 'Ok' on the Confirm Window. Once the 'The task completed successfully' message is seen, close the 'Progress Information' window. "
									}

								]
							}
						},
						{
							"section": "Test the Write Flow using the Flow Exerciser ",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "In the application development perspective, on the Write Flow , click the Flow Exerciser icon in red: <img src='https://ot4i.github.io/iib-tutorials/images/icons/iib/startFlowExerciser.png' alt='' /> to start recording the message path through the flow. "
									},
									{
										"details": "Click the Send Message icon <img src='https://ot4i.github.io/iib-tutorials/images/icons/iib/sendMessage.png' alt='' /> to select a message to send to the flow."
									},
									{
										"details": "You can click on new message and then click on send button. Your request message is sent to the HTTP input node. After the request message is processed, the message path is automatically highlighted on the message flow."
									},
									{
										"details": "Click on any connection on the message box to see the data that passed through that connection."
									},
									{
										"details": "To stop recording the message path through the flow, click the Return flow to edit mode icon."
									}
								]
							}
						},

						{
							"section": "Test the Write Flow ",
							"steps": {
								"type": "ordered",
								"details": [{
										"details": "Open a browser window and paste the following in the url: 'http://TESTSERVER:HTTPPORT/WriteNode' where TESTSERVER and HTTPPORT are specified when creating the Integration server in the PreRequisite section "
									},

									{
										"details": "Browser output should display the values write into the OPC server in case of successful operation. "
									}

								]
							}
						}


					]
				},
				"helpLinks": {
					"title": "Find out more",
					"details": [{
						"title": "IBM Documentation link to ",
						"description": "Using the Manufacturing Perspective",
						"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=overview-manufacturing-perspective",
						"type": "web"
					},
					{
						"title": "IBM Documentation link to Troubleshooting ",
						"description": "Troubleshooting and Logging",
						"link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=manufacturing-troubleshooting-support",
						"type": "web"
					
					}
					
					
					
					]
				}
			}
		}
	}
}